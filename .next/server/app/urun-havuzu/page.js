(()=>{var e={};e.id=477,e.ids=[477],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},1347:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>d}),a(7593),a(1163),a(2874);var r=a(7105),s=a(5265),n=a(157),i=a.n(n),l=a(4665),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["urun-havuzu",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7593)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\urun-havuzu\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,1163)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\urun-havuzu\\page.tsx"],c="/urun-havuzu/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/urun-havuzu/page",pathname:"/urun-havuzu",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2134:(e,t,a)=>{Promise.resolve().then(a.bind(a,9139))},869:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,3817,23)),Promise.resolve().then(a.t.bind(a,9323,23)),Promise.resolve().then(a.t.bind(a,2204,23)),Promise.resolve().then(a.t.bind(a,820,23)),Promise.resolve().then(a.t.bind(a,5915,23)),Promise.resolve().then(a.t.bind(a,1611,23))},1205:()=>{},785:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(9899),s=a(4175),n=a(6153),i=a(5507);a(24);let l={admin:[{name:" Ana Sayfa",path:"/admin"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Kullanıcılar",path:"/kullanicilar"},{name:" Dersler",path:"/dersler"},{name:" Alışveriş Listeleri",path:"/siparisler"},{name:" Sipariş Y\xf6netimi",path:"/siparis-yonetimi"}],ogretmen:[{name:" Ana Sayfa",path:"/ogretmen"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Alışveriş Listelerim",path:"/alisveris-listelerim"},{name:" Siparişlerim",path:"/siparislerim"},{name:" Talep Oluştur",path:"/talep"}],satin_alma:[{name:" Ana Sayfa",path:"/satin"}],stok:[{name:" Ana Sayfa",path:"/stok"}],bolum_baskani:[{name:" Ana Sayfa",path:"/bolum-baskani"},{name:" Ders Y\xf6netimi",path:"/dersler"}]};function o({children:e,title:t,subtitle:a}){let o=(0,n.usePathname)(),d=(0,n.useRouter)(),[u,c]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1);if(!u)return null;let p=l[u.role]??[],h=(u.ad_soyad||u.username).split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();return(0,r.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[r.jsx("button",{onClick:()=>x(!m),className:"lg:hidden fixed top-4 right-4 z-50 bg-red-700 text-white p-3 rounded-lg shadow-lg",children:""}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>x(!1)}),(0,r.jsxs)("aside",{className:`w-64 bg-white border-r border-gray-200 flex flex-col shadow-sm flex-shrink-0 fixed lg:static h-screen z-40 transition-transform duration-300 ${m?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[r.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-8 h-8 bg-red-700 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"İR\xdc"})}),r.jsx("span",{className:"font-bold text-gray-800",children:"İR\xdcFoodFlow"})]})}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:p.map(e=>{let t=o===e.path;return r.jsx(s.default,{href:e.path,className:`flex items-center px-4 py-2.5 rounded-xl text-sm transition-all ${t?"bg-red-50 text-red-700 font-semibold":"text-gray-500 hover:bg-gray-100 hover:text-gray-800"}`,children:e.name},e.path)})}),(0,r.jsxs)("div",{className:"px-4 py-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-9 h-9 bg-red-700 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:h})}),(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:u.ad_soyad||u.username}),r.jsx("p",{className:"text-xs text-gray-400",children:u.role})]})]}),r.jsx("button",{onClick:()=>{localStorage.removeItem("aktifKullaniciId"),localStorage.removeItem("role"),localStorage.removeItem("username"),d.push("/")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 rounded-xl hover:bg-red-50 transition",children:"\xc7ıkış Yap"})]})]}),(0,r.jsxs)("main",{className:"flex-1 flex flex-col overflow-auto pt-16 lg:pt-0",children:[t&&(0,r.jsxs)("div",{className:"bg-red-700 text-white px-10 py-7 flex-shrink-0",children:[a&&r.jsx("p",{className:"text-red-300 text-xs font-medium uppercase tracking-widest mb-1",children:a}),r.jsx("h1",{className:"text-2xl font-bold",children:t})]}),r.jsx("div",{className:"flex-1 p-8",children:e})]})]})}},895:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var r=a(5507),s=a(6153);function n(e){(0,s.useRouter)();let[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!0);return{yetkili:t,yukleniyor:n}}},9139:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(9899),s=a(5507),n=a(785),i=a(895),l=a(24);let o=["Kg","L","Paket","Adet","G","Ml","Kutu"],d={urunAdi:"",marka:"",fiyat:0,olcu:"Kg",kategori:"",market:"",stok:0,kod:"",notlar:""};function u(){let{yetkili:e,yukleniyor:t}=(0,i.a)("/urun-havuzu");if(t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Y\xfckleniyor..."});if(!e)return null;let[u,c]=(0,s.useState)([]),[m,x]=(0,s.useState)(""),[p,h]=(0,s.useState)("T\xfcm\xfc"),[g,f]=(0,s.useState)("T\xfcm\xfc"),[y,b]=(0,s.useState)(d),[k,v]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[w,S]=(0,s.useState)(null),[z,C]=(0,s.useState)(!0),[A,P]=(0,s.useState)(""),_=(0,s.useRef)(null),I=async()=>{C(!0);let{data:e}=await l.O.from("urunler").select("*").order("urun_adi");c((e||[]).map(e=>({id:e.id,urunAdi:e.urun_adi,marka:e.marka,fiyat:e.fiyat,olcu:e.olcu,kategori:e.kategori,market:e.market,stok:e.stok,kod:e.kod,notlar:e.notlar}))),C(!1)},q=(e,t)=>{S({tip:e,metin:t}),setTimeout(()=>S(null),3500)},T=async()=>{if(!y.urunAdi.trim()){q("hata","\xdcr\xfcn adı boş olamaz.");return}let e={urun_adi:y.urunAdi,marka:y.marka,fiyat:y.fiyat,olcu:y.olcu,kategori:y.kategori,market:y.market,stok:y.stok,kod:y.kod,notlar:y.notlar};if(k){let{error:t}=await l.O.from("urunler").update(e).eq("id",k);if(t){q("hata","Hata: "+t.message);return}q("basari","\xdcr\xfcn g\xfcncellendi.")}else{let{error:t}=await l.O.from("urunler").insert(e);if(t){q("hata","Hata: "+t.message);return}q("basari","\xdcr\xfcn eklendi.")}b(d),v(null),N(!1),I()},M=e=>{if("ogretmen"===A)return;let{id:t,...a}=e;b(a),v(t),N(!0)},G=async e=>{confirm("Bu \xfcr\xfcn\xfc silmek istediğinizden emin misiniz?")&&(await l.O.from("urunler").delete().eq("id",e),q("basari","\xdcr\xfcn silindi."),I())},K=async()=>{confirm("T\xfcm \xfcr\xfcnleri silmek istediğinizden emin misiniz?")&&(await l.O.from("urunler").delete().neq("id",""),q("basari","T\xfcm \xfcr\xfcnler silindi."),I())},O=["T\xfcm\xfc",...Array.from(new Set(u.map(e=>e.kategori).filter(Boolean))).sort()],R=["T\xfcm\xfc",...Array.from(new Set(u.map(e=>e.marka).filter(Boolean))).sort()],L=u.filter(e=>{let t=!m||e.urunAdi.toLowerCase().includes(m.toLowerCase())||e.marka.toLowerCase().includes(m.toLowerCase())||e.kod.toLowerCase().includes(m.toLowerCase()),a="T\xfcm\xfc"===p||e.kategori===p,r="T\xfcm\xfc"===g||e.marka===g;return t&&a&&r});return(0,r.jsxs)(n.Z,{children:[w&&r.jsx("div",{className:`fixed top-5 right-5 z-50 px-5 py-3 rounded-xl shadow-lg text-white text-sm font-medium transition-all ${"basari"===w.tip?"bg-emerald-500":"bg-red-500"}`,children:w.metin}),(0,r.jsxs)("div",{className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[r.jsx("input",{value:m,onChange:e=>x(e.target.value),placeholder:"\xdcr\xfcn adı, marka veya kod ara...",className:"border border-gray-200 rounded-xl px-4 py-2.5 text-sm text-black p-2 flex-1 min-w-[200px] focus:outline-none focus:ring-2 focus:ring-blue-500"}),r.jsx("select",{value:p,onChange:e=>h(e.target.value),className:"border border-gray-200 rounded-xl px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:O.map(e=>r.jsx("option",{children:e},e))}),r.jsx("select",{value:g,onChange:e=>f(e.target.value),className:"border border-gray-200 rounded-xl px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",children:R.map(e=>r.jsx("option",{children:e},e))})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[L.length," / ",u.length," \xfcr\xfcn"]}),(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:()=>{b(d),v(null),N(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2.5 rounded-xl transition",children:"+ Yeni \xdcr\xfcn"}),(0,r.jsxs)("label",{className:"cursor-pointer bg-white border border-gray-200 hover:bg-gray-50 text-sm font-medium px-4 py-2.5 rounded-xl transition text-gray-700",children:["Excel'den Y\xfckle",r.jsx("input",{ref:_,type:"file",accept:".xlsx,.xls",className:"hidden",onChange:e=>{let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onload=async e=>{try{let t=await a.e(935).then(a.bind(a,9935)),r=t.read(e.target?.result,{type:"binary"}),s=r.Sheets[r.SheetNames[0]],n=t.utils.sheet_to_json(s).filter(e=>e["\xdcr\xfcn Adı"]).map(e=>({urun_adi:String(e["\xdcr\xfcn Adı"]??""),marka:String(e.Marka??""),fiyat:Number(e.Fiyat??0),olcu:String(e["\xd6l\xe7\xfc"]??"Kg"),kategori:String(e.Kategori??""),market:String(e.Market??""),stok:Number(e.Stok??0),kod:String(e.Kod??""),notlar:String(e.Notlar??"")})),{error:i}=await l.O.from("urunler").insert(n);if(i){q("hata","Hata: "+i.message);return}q("basari",`${n.length} \xfcr\xfcn eklendi.`),I()}catch{q("hata","Excel dosyası okunamadı.")}},r.readAsBinaryString(t),_.current&&(_.current.value="")}})]}),u.length>0&&"ogretmen"!==A&&r.jsx("button",{onClick:K,className:"bg-white border border-red-200 hover:bg-red-50 text-red-500 text-sm font-medium px-4 py-2.5 rounded-xl transition",children:"T\xfcm\xfcn\xfc Sil"})]})]}),t?r.jsx("div",{className:"text-center py-16 text-gray-400 text-sm",children:"Y\xfckleniyor..."}):0===L.length?r.jsx("div",{className:"text-center py-16 text-gray-400 text-sm",children:0===u.length?"Hen\xfcz \xfcr\xfcn yok.":"Bu filtreye uygun \xfcr\xfcn bulunamadı."}):r.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-100 shadow-sm",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-50 text-gray-500 text-xs uppercase",children:r.jsx("tr",{children:["\xdcr\xfcn Adı","Marka","Fiyat","\xd6l\xe7\xfc","Kategori","Market","Stok","Kod",""].map(e=>r.jsx("th",{className:"px-4 py-3 text-left font-medium",children:e},e))})}),r.jsx("tbody",{className:"divide-y divide-gray-50",children:L.map(e=>(0,r.jsxs)("tr",{onClick:()=>M(e),className:"hover:bg-blue-50/40 transition cursor-pointer",children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:e.urunAdi}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.marka||"—"}),r.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.fiyat>0?`₺${e.fiyat.toLocaleString("tr-TR",{minimumFractionDigits:2})}`:"—"}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.olcu}),r.jsx("td",{className:"px-4 py-3",children:e.kategori?r.jsx("span",{className:"bg-blue-50 text-blue-600 px-2 py-0.5 rounded-full text-xs font-medium",children:e.kategori}):"—"}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.market||"—"}),r.jsx("td",{className:`px-4 py-3 font-medium ${e.stok>0?"text-emerald-600":"text-gray-400"}`,children:e.stok}),r.jsx("td",{className:"px-4 py-3 text-gray-400 font-mono text-xs",children:e.kod||"—"}),r.jsx("td",{className:"px-4 py-3",onClick:e=>e.stopPropagation(),children:"ogretmen"!==A&&r.jsx("button",{onClick:()=>G(e.id),className:"text-xs text-red-500 hover:text-red-700 font-medium hover:underline transition",children:"Sil"})})]},e.id))})]})})]}),j&&r.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 pt-6 pb-4 border-b border-gray-100",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:k?"\xdcr\xfcn D\xfczenle":"Yeni \xdcr\xfcn"}),r.jsx("button",{onClick:()=>{N(!1),v(null),b(d)},className:"text-gray-400 hover:text-gray-600 text-lg leading-none",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"px-6 py-4 space-y-3",children:[[{label:"\xdcr\xfcn Adı *",key:"urunAdi",type:"text"},{label:"Marka",key:"marka",type:"text"},{label:"Fiyat (₺)",key:"fiyat",type:"number"},{label:"Market",key:"market",type:"text"},{label:"Stok",key:"stok",type:"number"},{label:"Kod",key:"kod",type:"text"},{label:"Notlar",key:"notlar",type:"text"}].map(({label:e,key:t,type:a})=>(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:e}),r.jsx("input",{type:a,value:y[t],onChange:e=>b(r=>({...r,[t]:"number"===a?Number(e.target.value):e.target.value})),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",min:"number"===a?0:void 0})]},t)),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Kategori"}),(0,r.jsxs)("select",{value:y.kategori,onChange:e=>b(t=>({...t,kategori:e.target.value})),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"— Se\xe7iniz —"}),Array.from(new Set(u.map(e=>e.kategori).filter(Boolean))).sort().map(e=>r.jsx("option",{value:e,children:e},e)),y.kategori&&!u.some(e=>e.kategori===y.kategori)&&r.jsx("option",{value:y.kategori,children:y.kategori})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500",children:"\xd6l\xe7\xfc"}),r.jsx("select",{value:y.olcu,onChange:e=>b(t=>({...t,olcu:e.target.value})),className:"border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(e=>r.jsx("option",{children:e},e))})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 px-6 pb-6 pt-2",children:[r.jsx("button",{onClick:T,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2.5 rounded-xl transition",children:k?"G\xfcncelle":"Ekle"}),r.jsx("button",{onClick:()=>{b(d),v(null)},className:"px-4 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-xl hover:bg-gray-50 transition",children:"Temizle"})]})]})}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-300 py-4",children:["\xdcr\xfcn Havuzu: ",u.length," | G\xf6r\xfcnt\xfclenen: ",L.length]})]})}},24:(e,t,a)=>{"use strict";a.d(t,{O:()=>r});let r=(0,a(7994).eI)("https://dyqbddyenmrzjjhkperf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5cWJkZHllbm1yempqaGtwZXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NzU1MjcsImV4cCI6MjA4NzQ1MTUyN30.D83dK9y-GkVLYmfon94afTNGaffiZ1S1TCNy5Ug-Io4")},1163:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>i});var r=a(5023),s=a(1695),n=a.n(s);a(642);let i={title:"IRU FoodFlow",description:"Okul yemek talep y\xf6netim sistemi"};function l({children:e}){return r.jsx("html",{lang:"tr",children:r.jsx("body",{className:`${n().variable} antialiased`,children:e})})}},7593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=a(2772);let s=(0,r.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\urun-havuzu\page.tsx`),{__esModule:n,$$typeof:i}=s;s.default;let l=(0,r.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\urun-havuzu\page.tsx#default`)},7418:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(1645);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},642:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[916,617,645,524,175],()=>a(1347));module.exports=r})();