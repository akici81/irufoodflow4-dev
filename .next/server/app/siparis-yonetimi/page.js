(()=>{var e={};e.id=562,e.ids=[562],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3222:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>o}),s(415),s(1163),s(2874);var a=s(7105),r=s(5265),i=s(157),n=s.n(i),l=s(4665),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["siparis-yonetimi",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,415)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\siparis-yonetimi\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1163)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\siparis-yonetimi\\page.tsx"],c="/siparis-yonetimi/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/siparis-yonetimi/page",pathname:"/siparis-yonetimi",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7749:(e,t,s)=>{Promise.resolve().then(s.bind(s,6691))},869:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3817,23)),Promise.resolve().then(s.t.bind(s,9323,23)),Promise.resolve().then(s.t.bind(s,2204,23)),Promise.resolve().then(s.t.bind(s,820,23)),Promise.resolve().then(s.t.bind(s,5915,23)),Promise.resolve().then(s.t.bind(s,1611,23))},1205:()=>{},785:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var a=s(9899),r=s(4175),i=s(6153),n=s(5507);s(24);let l={admin:[{name:" Ana Sayfa",path:"/admin"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Kullanıcılar",path:"/kullanicilar"},{name:" Dersler",path:"/dersler"},{name:" Alışveriş Listeleri",path:"/siparisler"},{name:" Sipariş Y\xf6netimi",path:"/siparis-yonetimi"}],ogretmen:[{name:" Ana Sayfa",path:"/ogretmen"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Alışveriş Listelerim",path:"/alisveris-listelerim"},{name:" Siparişlerim",path:"/siparislerim"},{name:" Talep Oluştur",path:"/talep"}],satin_alma:[{name:" Ana Sayfa",path:"/satin"}],stok:[{name:" Ana Sayfa",path:"/stok"}],bolum_baskani:[{name:" Ana Sayfa",path:"/bolum-baskani"},{name:" Ders Y\xf6netimi",path:"/dersler"}]};function d({children:e,title:t,subtitle:s}){let d=(0,i.usePathname)(),o=(0,i.useRouter)(),[m,c]=(0,n.useState)(null),[x,p]=(0,n.useState)(!1);if(!m)return null;let u=l[m.role]??[],h=(m.ad_soyad||m.username).split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();return(0,a.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[a.jsx("button",{onClick:()=>p(!x),className:"lg:hidden fixed top-4 right-4 z-50 bg-red-700 text-white p-3 rounded-lg shadow-lg",children:""}),x&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>p(!1)}),(0,a.jsxs)("aside",{className:`w-64 bg-white border-r border-gray-200 flex flex-col shadow-sm flex-shrink-0 fixed lg:static h-screen z-40 transition-transform duration-300 ${x?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[a.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-8 h-8 bg-red-700 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"İR\xdc"})}),a.jsx("span",{className:"font-bold text-gray-800",children:"İR\xdcFoodFlow"})]})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:u.map(e=>{let t=d===e.path;return a.jsx(r.default,{href:e.path,className:`flex items-center px-4 py-2.5 rounded-xl text-sm transition-all ${t?"bg-red-50 text-red-700 font-semibold":"text-gray-500 hover:bg-gray-100 hover:text-gray-800"}`,children:e.name},e.path)})}),(0,a.jsxs)("div",{className:"px-4 py-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-9 h-9 bg-red-700 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white text-xs font-bold",children:h})}),(0,a.jsxs)("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:m.ad_soyad||m.username}),a.jsx("p",{className:"text-xs text-gray-400",children:m.role})]})]}),a.jsx("button",{onClick:()=>{localStorage.removeItem("aktifKullaniciId"),localStorage.removeItem("role"),localStorage.removeItem("username"),o.push("/")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 rounded-xl hover:bg-red-50 transition",children:"\xc7ıkış Yap"})]})]}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col overflow-auto pt-16 lg:pt-0",children:[t&&(0,a.jsxs)("div",{className:"bg-red-700 text-white px-10 py-7 flex-shrink-0",children:[s&&a.jsx("p",{className:"text-red-300 text-xs font-medium uppercase tracking-widest mb-1",children:s}),a.jsx("h1",{className:"text-2xl font-bold",children:t})]}),a.jsx("div",{className:"flex-1 p-8",children:e})]})]})}},895:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(5507),r=s(6153);function i(e){(0,r.useRouter)();let[t,s]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!0);return{yetkili:t,yukleniyor:i}}},6691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(9899),r=s(5507),i=s(785),n=s(895),l=s(24);function d(){let{yetkili:e,yukleniyor:t}=(0,n.a)("/siparis-yonetimi");if(t)return a.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Y\xfckleniyor..."});if(!e)return null;let[s,d]=(0,r.useState)([]),[o,m]=(0,r.useState)("hepsi"),[c,x]=(0,r.useState)("tumu"),[p,u]=(0,r.useState)("tumu"),[h,g]=(0,r.useState)(null),f=async e=>{confirm("Bu siparişi silmek istediğinizden emin misiniz?")&&(await l.O.from("siparisler").delete().eq("id",e),d(t=>t.filter(t=>t.id!==e)),h?.id===e&&g(null))},y=async(e,t)=>{await l.O.from("siparisler").update({durum:t}).eq("id",e),d(s=>s.map(s=>s.id===e?{...s,durum:t}:s)),h?.id===e&&g(e=>e?{...e,durum:t}:null)},b=["tumu",...Array.from(new Set(s.map(e=>e.ogretmenAdi)))],j=["tumu",...Array.from(new Set(s.map(e=>e.dersAdi)))],v=s.filter(e=>{let t="tumu"===c||e.ogretmenAdi===c,s="tumu"===p||e.dersAdi===p;return t&&s}),N="hepsi"===o?s:v;return a.jsx(i.Z,{title:"Sipariş Y\xf6netimi",subtitle:"T\xfcm siparişleri g\xf6r\xfcnt\xfcleyin ve y\xf6netin",children:(0,a.jsxs)("div",{className:"max-w-6xl space-y-5",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>m("hepsi"),className:`flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-semibold transition ${"hepsi"===o?"bg-red-700 text-white":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:["T\xfcm Siparişler (",s.length,")"]}),a.jsx("button",{onClick:()=>m("filtre"),className:`flex items-center gap-2 px-5 py-3 rounded-xl text-sm font-semibold transition ${"filtre"===o?"bg-red-700 text-white":"bg-white border border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"\xd6ğretmen/Ders Se\xe7imi"})]}),"filtre"===o&&(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-500",children:"\xd6ğretmen"}),a.jsx("select",{value:c,onChange:e=>x(e.target.value),className:"border border-gray-200 rounded-xl px-4 py-2.5 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-red-500 min-w-[200px]",children:b.map(e=>a.jsx("option",{value:e,children:"tumu"===e?"T\xfcm \xd6ğretmenler":e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Ders"}),a.jsx("select",{value:p,onChange:e=>u(e.target.value),className:"border border-gray-200 rounded-xl px-4 py-2.5 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-red-500 min-w-[240px]",children:j.map(e=>a.jsx("option",{value:e,children:"tumu"===e?"T\xfcm Dersler":e},e))})]})]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsxs)("div",{className:"flex-1 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[a.jsx("h2",{className:"font-semibold text-gray-800",children:"hepsi"===o?"T\xfcm Siparişler":"Filtrelenmiş Siparişler"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:["Toplam ",N.length," sipariş"]})]}),0===N.length?a.jsx("div",{className:"py-16 text-center text-gray-400 text-sm",children:"Sipariş bulunamadı."}):(0,a.jsxs)("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsx("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:["\xd6ĞRETMEN","DERS","HAFTA","\xdcR\xdcN SAYISI","TOPLAM TUTAR","İŞLEM"].map(e=>a.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e},e))})}),a.jsx("tbody",{className:"divide-y divide-gray-50",children:N.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-5 py-4 font-semibold text-gray-800",children:e.ogretmenAdi}),a.jsx("td",{className:"px-5 py-4 text-gray-600 max-w-xs truncate",children:e.dersAdi}),a.jsx("td",{className:"px-5 py-4 text-gray-600",children:e.hafta}),(0,a.jsxs)("td",{className:"px-5 py-4 text-gray-600",children:[e.urunler.length," \xfcr\xfcn"]}),(0,a.jsxs)("td",{className:"px-5 py-4 font-semibold text-red-700",children:["₺",e.genelToplam.toLocaleString("tr-TR",{minimumFractionDigits:2})]}),a.jsx("td",{className:"px-5 py-4",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g(e),className:"text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 font-medium px-3 py-1.5 rounded-lg transition",children:"Detay"}),a.jsx("button",{onClick:()=>f(e.id),className:"text-xs bg-red-50 hover:bg-red-100 text-red-600 font-medium px-3 py-1.5 rounded-lg transition",children:"Sil"})]})})]},e.id))})]})]}),h&&a.jsx("div",{className:"w-80 flex-shrink-0",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 sticky top-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Sipariş Detayı"}),a.jsx("button",{onClick:()=>g(null),className:"text-gray-400 hover:text-gray-600 text-xl leading-none",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"\xd6ğretmen:"}),a.jsx("span",{className:"font-medium text-gray-800",children:h.ogretmenAdi})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Ders:"}),a.jsx("span",{className:"font-medium text-gray-800 text-right max-w-[160px]",children:h.dersAdi})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Hafta:"}),a.jsx("span",{className:"font-medium text-gray-800",children:h.hafta})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Tarih:"}),a.jsx("span",{className:"font-medium text-gray-800",children:h.tarih})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-400",children:"Durum:"}),(0,a.jsxs)("select",{value:h.durum,onChange:e=>y(h.id,e.target.value),className:"text-xs border border-gray-200 rounded-lg px-2 py-1 bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"bekliyor",children:"Bekliyor"}),a.jsx("option",{value:"onaylandi",children:"Onaylandı"}),a.jsx("option",{value:"teslim_alindi",children:"Teslim Alındı"})]})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"\xdcr\xfcnler"}),a.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.urunler.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-start text-xs py-2 border-b border-gray-50",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:e.urunAdi}),(0,a.jsxs)("p",{className:"text-gray-400",children:[e.marka," \xb7 ",e.miktar," ",e.olcu]})]}),(0,a.jsxs)("span",{className:"font-semibold text-gray-700 ml-2",children:["₺",e.toplam.toFixed(2)]})]},t))}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-gray-200",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Toplam"}),(0,a.jsxs)("span",{className:"text-base font-bold text-red-700",children:["₺",h.genelToplam.toLocaleString("tr-TR",{minimumFractionDigits:2})]})]})]})]})})]})]})})}},24:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});let a=(0,s(7994).eI)("https://dyqbddyenmrzjjhkperf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5cWJkZHllbm1yempqaGtwZXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NzU1MjcsImV4cCI6MjA4NzQ1MTUyN30.D83dK9y-GkVLYmfon94afTNGaffiZ1S1TCNy5Ug-Io4")},1163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var a=s(5023),r=s(1695),i=s.n(r);s(642);let n={title:"IRU FoodFlow",description:"Okul yemek talep y\xf6netim sistemi"};function l({children:e}){return a.jsx("html",{lang:"tr",children:a.jsx("body",{className:`${i().variable} antialiased`,children:e})})}},415:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var a=s(2772);let r=(0,a.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\siparis-yonetimi\page.tsx`),{__esModule:i,$$typeof:n}=r;r.default;let l=(0,a.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\siparis-yonetimi\page.tsx#default`)},7418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(1645);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},642:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[916,617,645,524,175],()=>s(3222));module.exports=a})();