(()=>{var e={};e.id=466,e.ids=[466],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},7569:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>m,routeModule:()=>x,tree:()=>o}),t(8850),t(1163),t(2874);var r=t(7105),s=t(5265),l=t(157),i=t.n(l),n=t(4665),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(a,d);let o=["",{children:["bolum-baskani",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8850)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\bolum-baskani\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1163)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\bolum-baskani\\page.tsx"],c="/bolum-baskani/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/bolum-baskani/page",pathname:"/bolum-baskani",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2801:(e,a,t)=>{Promise.resolve().then(t.bind(t,1674))},869:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,3817,23)),Promise.resolve().then(t.t.bind(t,9323,23)),Promise.resolve().then(t.t.bind(t,2204,23)),Promise.resolve().then(t.t.bind(t,820,23)),Promise.resolve().then(t.t.bind(t,5915,23)),Promise.resolve().then(t.t.bind(t,1611,23))},1205:()=>{},1674:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(9899),s=t(5507),l=t(4175),i=t(785),n=t(895),d=t(24);let o=[{value:"ogretmen",label:"\xd6ğretmen"},{value:"bolum-baskani",label:"B\xf6l\xfcm Başkanı"},{value:"stok",label:"Stok Sorumlusu"},{value:"satin",label:"Satın Alma"}],m={ogretmen:"\xd6ğretmen","bolum-baskani":"B\xf6l\xfcm Başkanı",stok:"Stok Sorumlusu",satin:"Satın Alma",admin:"Admin"},c={ogretmen:"bg-blue-100 text-blue-700","bolum-baskani":"bg-purple-100 text-purple-700",stok:"bg-amber-100 text-amber-700",satin:"bg-emerald-100 text-emerald-700"},u={bekliyor:"bg-amber-100 text-amber-700 border-amber-200",onaylandi:"bg-blue-100 text-blue-700 border-blue-200",teslim_alindi:"bg-emerald-100 text-emerald-700 border-emerald-200"},x={bekliyor:"⏳ Bekliyor",onaylandi:" Onaylandı",teslim_alindi:" Teslim Alındı"},p=Array.from({length:10},(e,a)=>`${a+1}. Hafta`),h=["Kg","L","Paket","Adet","G","Ml","Kutu"],g={urunAdi:"",marka:"",fiyat:0,olcu:"Kg",kategori:"",market:"",stok:0,kod:"",notlar:""};function b(){let{yetkili:e,yukleniyor:a}=(0,n.a)("/bolum-baskani");if(a)return r.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Y\xfckleniyor..."});if(!e)return null;let[b,y]=(0,s.useState)(""),[f,j]=(0,s.useState)([]),[k,v]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[S,_]=(0,s.useState)([]),[C,A]=(0,s.useState)([]),[P,z]=(0,s.useState)("panel"),[T,I]=(0,s.useState)(null),[$,O]=(0,s.useState)(""),[q,D]=(0,s.useState)(""),[M,K]=(0,s.useState)(""),[E,B]=(0,s.useState)("ogretmen"),[H,L]=(0,s.useState)(null),[R,F]=(0,s.useState)("tumu"),[G,U]=(0,s.useState)("tumu"),[Y,J]=(0,s.useState)(null),[Z,X]=(0,s.useState)(g),[V,Q]=(0,s.useState)(null),[W,ee]=(0,s.useState)(!1),[ea,et]=(0,s.useState)(""),[er,es]=(0,s.useState)("T\xfcm\xfc"),el=(0,s.useRef)(null),[ei,en]=(0,s.useState)(!1),ed=async()=>{let e=localStorage.getItem("aktifKullaniciId"),[{data:a},{data:t},{data:r},{data:s},{data:l}]=await Promise.all([d.O.from("kullanicilar").select("ad_soyad, username").eq("id",e).single(),d.O.from("dersler").select("*").order("kod"),d.O.from("kullanicilar").select("id, username, ad_soyad, role, dersler").neq("role","admin"),d.O.from("siparisler").select("*").order("tarih",{ascending:!1}),d.O.from("urunler").select("*").order("urun_adi")]);y(a?.ad_soyad||a?.username||""),j(t||[]),v(r||[]),w((r||[]).filter(e=>"ogretmen"===e.role)),_((s||[]).map(e=>({id:e.id,ogretmenId:e.ogretmen_id,ogretmenAdi:e.ogretmen_adi,dersId:e.ders_id,dersAdi:e.ders_adi,hafta:e.hafta,urunler:e.urunler||[],genelToplam:e.genel_toplam,tarih:e.tarih,durum:e.durum}))),A((l||[]).map(e=>({id:e.id,urunAdi:e.urun_adi,marka:e.marka,fiyat:e.fiyat,olcu:e.olcu,kategori:e.kategori,market:e.market,stok:e.stok,kod:e.kod,notlar:e.notlar})))},eo=(e,a)=>{I({tip:e,metin:a}),setTimeout(()=>I(null),3500)},em=async()=>{if(!q||!M||!$){eo("hata","T\xfcm alanları doldurun.");return}let{data:e}=await d.O.from("kullanicilar").select("id").eq("username",q).single();if(e){eo("hata","Bu kullanıcı adı zaten kullanılıyor.");return}let{error:a}=await d.O.from("kullanicilar").insert({ad_soyad:$,username:q,password_hash:M,role:E,dersler:[]});if(a){eo("hata","Hata: "+a.message);return}eo("basari",`"${$}" eklendi.`),O(""),D(""),K(""),B("ogretmen"),ed()},ec=async()=>{if(!H)return;let{error:e}=await d.O.from("kullanicilar").update({ad_soyad:H.ad_soyad,username:H.username,role:H.role,...H.password_hash?{password_hash:H.password_hash}:{}}).eq("id",H.id);if(e){eo("hata","Hata: "+e.message);return}eo("basari","Kullanıcı g\xfcncellendi."),L(null),ed()},eu=async(e,a)=>{confirm(`"${a}" kullanıcısını silmek istediğinizden emin misiniz?`)&&(await d.O.from("kullanicilar").delete().eq("id",e),eo("basari","Kullanıcı silindi."),ed())},ex=async(e,a)=>{await d.O.from("siparisler").update({durum:a}).eq("id",e),_(t=>t.map(t=>t.id===e?{...t,durum:a}:t)),Y?.id===e&&J(e=>e?{...e,durum:a}:null)},ep=async()=>{if(!Z.urunAdi.trim()){eo("hata","\xdcr\xfcn adı boş olamaz.");return}let e={urun_adi:Z.urunAdi,marka:Z.marka,fiyat:Z.fiyat,olcu:Z.olcu,kategori:Z.kategori,market:Z.market,stok:Z.stok,kod:Z.kod,notlar:Z.notlar};if(V){let{error:a}=await d.O.from("urunler").update(e).eq("id",V);if(a){eo("hata","Hata: "+a.message);return}eo("basari","\xdcr\xfcn g\xfcncellendi.")}else{let{error:a}=await d.O.from("urunler").insert(e);if(a){eo("hata","Hata: "+a.message);return}eo("basari","\xdcr\xfcn eklendi.")}X(g),Q(null),ee(!1),ed()},eh=async e=>{confirm("Bu \xfcr\xfcn\xfc silmek istediğinizden emin misiniz?")&&(await d.O.from("urunler").delete().eq("id",e),eo("basari","\xdcr\xfcn silindi."),ed())},eg=async e=>{let a=N.find(a=>a.id===e);if(!a)return;en(!0);let{data:r}=await d.O.from("siparisler").select("*").eq("ogretmen_id",e),s=await t.e(935).then(t.bind(t,9935)),l=s.utils.book_new();for(let e of a.dersler||[]){let t=f.find(a=>a.id===e);if(t)for(let i of p){let n=(r||[]).find(a=>a.ders_id===e&&a.hafta===i),d=n?.urunler||[],o=[[`${t.kod} - ${t.ad} MALZEME TALEP LİSTESİ`,"","","","","","",""],[a.ad_soyad||a.username,"","","","","",i,""],["","","","","","","",""],["Sıra no","\xdcr\xfcn","Marka","Miktar","\xd6l\xe7\xfc","B.Fiyat","Toplam","Durum"],...d.map((e,a)=>[a+1,e.urunAdi,e.marka,e.miktar,e.olcu,e.birimFiyat,e.toplam,""])],m=s.utils.aoa_to_sheet(o);m["!cols"]=[{wch:8},{wch:35},{wch:20},{wch:10},{wch:8},{wch:12},{wch:12},{wch:15}],s.utils.book_append_sheet(l,m,`${t.kod}_${i}`.slice(0,31))}}if(0===l.SheetNames.length){eo("hata","Bu \xf6ğretmene ait liste bulunamadı."),en(!1);return}s.writeFile(l,`${a.ad_soyad||a.username}_Liste.xlsx`),en(!1)},eb=f.filter(e=>N.some(a=>(a.dersler||[]).includes(e.id))).length,ey=["tumu",...Array.from(new Set(S.map(e=>e.hafta))).sort()],ef=S.filter(e=>("tumu"===R||e.hafta===R)&&("tumu"===G||e.durum===G)),ej=S.filter(e=>"bekliyor"===e.durum).length,ek=["T\xfcm\xfc",...Array.from(new Set(C.map(e=>e.kategori).filter(Boolean))).sort()],ev=C.filter(e=>(!ea||e.urunAdi.toLowerCase().includes(ea.toLowerCase())||(e.marka||"").toLowerCase().includes(ea.toLowerCase()))&&("T\xfcm\xfc"===er||e.kategori===er));return r.jsx(i.Z,{title:"B\xf6l\xfcm Başkanı Paneli",subtitle:"T\xfcm y\xf6netim ara\xe7ları",children:(0,r.jsxs)("div",{className:"max-w-6xl space-y-5",children:[T&&r.jsx("div",{className:`text-sm rounded-xl px-4 py-3 border font-medium ${"basari"===T.tip?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-600 border-red-200"}`,children:T.metin}),(0,r.jsxs)("div",{className:"bg-red-700 text-white rounded-2xl px-8 py-6",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold mb-1",children:["Merhaba, ",b,"!"]}),r.jsx("p",{className:"text-red-200 text-sm",children:"B\xf6l\xfcm Başkanı Paneline Hoş Geldiniz."})]}),r.jsx("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-2xl",children:[{key:"panel",label:" Panel"},{key:"kullanici",label:" Kullanıcılar"},{key:"listeler",label:" Listeler"},{key:"siparisler",label:" Siparişler",badge:ej},{key:"urunler",label:" \xdcr\xfcn Havuzu"}].map(e=>(0,r.jsxs)("button",{onClick:()=>z(e.key),className:`flex-1 px-3 py-2.5 text-sm font-medium rounded-xl transition flex items-center justify-center gap-2 ${P===e.key?"bg-white text-red-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[e.label,e.badge?r.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full",children:e.badge}):null]},e.key))}),"panel"===P&&(0,r.jsxs)("div",{className:"space-y-5",children:[r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Toplam Ders",deger:f.length,emoji:"",renk:"text-red-700"},{label:"\xd6ğretmen Sayısı",deger:N.length,emoji:"‍",renk:"text-blue-600"},{label:"Atanmış Ders",deger:eb,emoji:"",renk:"text-emerald-600"},{label:"Bekleyen Sipariş",deger:ej,emoji:"⏳",renk:"text-amber-600"}].map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 text-center",children:[r.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-2",children:e.label}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-3xl",children:e.emoji}),r.jsx("span",{className:`text-3xl font-bold ${e.renk}`,children:e.deger})]})]},e.label))}),r.jsx(l.default,{href:"/dersler",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl border-2 border-red-200 shadow-sm p-6 hover:shadow-md transition cursor-pointer flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-2xl"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-bold text-lg text-red-700",children:"Ders Y\xf6netimi"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Dersleri ekleyin, silin ve \xf6ğretmenlere atayın"})]}),r.jsx("span",{className:"ml-auto text-sm font-semibold text-red-700",children:"Git →"})]})})]}),"kullanici"===P&&(0,r.jsxs)("div",{className:"space-y-5",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-6 space-y-4",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"Yeni Kullanıcı Ekle"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[[{label:"Ad Soyad",val:$,set:O,ph:"Ad Soyad"},{label:"Kullanıcı Adı",val:q,set:D,ph:"kullanici_adi"},{label:"Şifre",val:M,set:K,ph:"Şifre"}].map(e=>(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:e.label}),r.jsx("input",{value:e.val,onChange:a=>e.set(a.target.value),placeholder:e.ph,className:"w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm text-black p-2 focus:outline-none focus:ring-2 focus:ring-red-500"})]},e.label)),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Rol"}),r.jsx("select",{value:E,onChange:e=>B(e.target.value),className:"w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm text-black bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:o.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),r.jsx("button",{onClick:em,className:"w-full bg-red-700 hover:bg-red-800 text-white font-semibold py-3 rounded-xl transition text-sm",children:"+ Kullanıcı Ekle"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:r.jsx("h2",{className:"font-semibold text-gray-800",children:"Mevcut Kullanıcılar"})}),r.jsx("div",{className:"divide-y divide-gray-50",children:k.map(e=>r.jsx("div",{className:"px-6 py-4",children:H?.id===e.id?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[r.jsx("input",{value:H.ad_soyad,onChange:e=>L({...H,ad_soyad:e.target.value}),placeholder:"Ad Soyad",className:"border border-gray-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500"}),r.jsx("input",{value:H.username,onChange:e=>L({...H,username:e.target.value}),placeholder:"Kullanıcı adı",className:"border border-gray-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500"}),r.jsx("input",{type:"password",placeholder:"Yeni şifre (boş bırakılabilir)",onChange:e=>L({...H,password_hash:e.target.value}),className:"border border-gray-200 rounded-xl px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500"}),r.jsx("select",{value:H.role,onChange:e=>L({...H,role:e.target.value}),className:"border border-gray-200 rounded-xl px-3 py-2 text-sm text-black bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:o.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:ec,className:"text-xs bg-emerald-600 hover:bg-emerald-700 text-white font-medium px-4 py-2 rounded-lg transition",children:"Kaydet"}),r.jsx("button",{onClick:()=>L(null),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 font-medium px-4 py-2 rounded-lg transition",children:"İptal"})]})]}):(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:e.ad_soyad||e.username}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["@",e.username]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${c[e.role]||"bg-gray-100 text-gray-600"}`,children:m[e.role]||e.role}),r.jsx("button",{onClick:()=>L(e),className:"text-xs text-blue-600 hover:underline font-medium",children:"D\xfczenle"}),r.jsx("button",{onClick:()=>eu(e.id,e.ad_soyad||e.username),className:"text-xs text-red-500 hover:underline font-medium",children:"Sil"})]})]})},e.id))})]})]}),"listeler"===P&&(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100",children:[r.jsx("h2",{className:"font-semibold text-gray-800",children:"\xd6ğretmen Bazlı Liste İndir"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Se\xe7ilen \xf6ğretmenin t\xfcm ders ve hafta listelerini Excel olarak indir"})]}),0===N.length?r.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"Hen\xfcz \xf6ğretmen bulunmuyor."}):N.map(e=>{let a=(e.dersler||[]).length;return(0,r.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between border-b border-gray-50 last:border-0",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-800 text-sm",children:e.ad_soyad||e.username}),r.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:a>0?`${a} ders \xb7 `+(e.dersler||[]).map(e=>f.find(a=>a.id===e)?.kod).filter(Boolean).join(", "):"Ders atanmamış"})]}),r.jsx("button",{onClick:()=>eg(e.id),disabled:ei||0===a,className:"text-sm bg-emerald-600 hover:bg-emerald-700 disabled:opacity-40 text-white font-medium px-4 py-2 rounded-xl transition",children:"Excel İndir"})]},e.id)})]}),"siparisler"===P&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 flex flex-wrap gap-3 items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Hafta"}),r.jsx("select",{value:R,onChange:e=>F(e.target.value),className:"border border-gray-200 rounded-xl px-4 py-2 text-sm text-black bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:ey.map(e=>r.jsx("option",{value:e,children:"tumu"===e?"T\xfcm Haftalar":e},e))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"Durum"}),(0,r.jsxs)("select",{value:G,onChange:e=>U(e.target.value),className:"border border-gray-200 rounded-xl px-4 py-2 text-sm text-black bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[r.jsx("option",{value:"tumu",children:"T\xfcm Durumlar"}),r.jsx("option",{value:"bekliyor",children:"⏳ Bekliyor"}),r.jsx("option",{value:"onaylandi",children:"Onaylandı"}),r.jsx("option",{value:"teslim_alindi",children:"Teslim Alındı"})]})]}),(0,r.jsxs)("div",{className:"ml-auto text-xs text-gray-400",children:[ef.length," sipariş"]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:0===ef.length?r.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"Sipariş bulunamadı."}):(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:["\xd6ĞRETMEN","DERS","HAFTA","DURUM","İŞLEM"].map(e=>r.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:e},e))})}),r.jsx("tbody",{className:"divide-y divide-gray-50",children:ef.map(e=>(0,r.jsxs)("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${Y?.id===e.id?"bg-blue-50":""}`,onClick:()=>J(Y?.id===e.id?null:e),children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:e.ogretmenAdi}),r.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:e.dersAdi}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.hafta}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full border ${u[e.durum]}`,children:x[e.durum]})}),r.jsx("td",{className:"px-4 py-3",onClick:e=>e.stopPropagation(),children:(0,r.jsxs)("div",{className:"flex gap-1",children:["bekliyor"===e.durum&&r.jsx("button",{onClick:()=>ex(e.id,"onaylandi"),className:"text-xs bg-blue-600 hover:bg-blue-700 text-white font-medium px-2.5 py-1.5 rounded-lg transition",children:"Onayla"}),"onaylandi"===e.durum&&r.jsx("button",{onClick:()=>ex(e.id,"teslim_alindi"),className:"text-xs bg-emerald-600 hover:bg-emerald-700 text-white font-medium px-2.5 py-1.5 rounded-lg transition",children:"Teslim"}),"bekliyor"!==e.durum&&r.jsx("button",{onClick:()=>ex(e.id,"bekliyor"),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-600 font-medium px-2.5 py-1.5 rounded-lg transition",children:"Geri Al"})]})})]},e.id))})]})}),Y&&(0,r.jsxs)("div",{className:"w-72 bg-white rounded-2xl border border-gray-200 shadow-sm p-5 space-y-3 self-start sticky top-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:"Sipariş Detayı"}),r.jsx("button",{onClick:()=>J(null),className:"text-gray-400 hover:text-gray-600 text-xl leading-none",children:"\xd7"})]}),(0,r.jsxs)("div",{className:"space-y-1 text-xs text-gray-500",children:[(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"\xd6ğretmen:"})," ",Y.ogretmenAdi]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Ders:"})," ",Y.dersAdi]}),(0,r.jsxs)("p",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Hafta:"})," ",Y.hafta]}),r.jsx("span",{className:`inline-block text-xs font-medium px-2 py-0.5 rounded-full border ${u[Y.durum]}`,children:x[Y.durum]})]}),r.jsx("div",{className:"divide-y divide-gray-50",children:Y.urunler.map((e,a)=>(0,r.jsxs)("div",{className:"py-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-800",children:e.urunAdi}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:[e.miktar," ",e.olcu," \xb7 ",e.toplam>0?`₺${e.toplam.toFixed(2)}`:"—"]})]},a))}),r.jsx("div",{className:"border-t border-gray-100 pt-2",children:(0,r.jsxs)("p",{className:"text-xs font-bold text-gray-800",children:["Toplam: ",Y.genelToplam>0?`₺${Y.genelToplam.toLocaleString("tr-TR",{minimumFractionDigits:2})}`:"—"]})})]})]})]}),"urunler"===P&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4 flex flex-wrap gap-3 items-center",children:[r.jsx("input",{value:ea,onChange:e=>et(e.target.value),placeholder:"\xdcr\xfcn adı veya marka ara...",className:"border border-gray-200 rounded-xl px-4 py-2.5 text-sm flex-1 min-w-[200px] focus:outline-none focus:ring-2 focus:ring-red-500"}),r.jsx("select",{value:er,onChange:e=>es(e.target.value),className:"border border-gray-200 rounded-xl px-3 py-2.5 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:ek.map(e=>r.jsx("option",{children:e},e))}),(0,r.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 rounded-full px-3 py-1.5 font-medium",children:[ev.length," / ",C.length," \xfcr\xfcn"]}),r.jsx("button",{onClick:()=>{X(g),Q(null),ee(!0)},className:"bg-red-700 hover:bg-red-800 text-white text-sm font-medium px-4 py-2.5 rounded-xl transition",children:"+ Yeni \xdcr\xfcn"}),(0,r.jsxs)("label",{className:"bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-medium px-4 py-2.5 rounded-xl transition cursor-pointer",children:["Excel'den Y\xfckle ",r.jsx("input",{ref:el,type:"file",accept:".xlsx,.xls",onChange:e=>{let a=e.target.files?.[0];if(!a)return;let r=new FileReader;r.onload=async e=>{try{let a=await t.e(935).then(t.bind(t,9935)),r=a.read(e.target?.result,{type:"binary"}),s=r.Sheets[r.SheetNames[0]],l=a.utils.sheet_to_json(s).filter(e=>e["\xdcr\xfcn Adı"]).map(e=>({urun_adi:String(e["\xdcr\xfcn Adı"]??""),marka:String(e.Marka??""),fiyat:Number(e.Fiyat??0),olcu:String(e["\xd6l\xe7\xfc"]??"Kg"),kategori:String(e.Kategori??""),market:String(e.Market??""),stok:Number(e.Stok??0),kod:String(e.Kod??""),notlar:String(e.Notlar??"")})),{error:i}=await d.O.from("urunler").insert(l);if(i){eo("hata","Hata: "+i.message);return}eo("basari",`${l.length} \xfcr\xfcn eklendi.`),ed()}catch{eo("hata","Excel dosyası okunamadı.")}},r.readAsBinaryString(a),el.current&&(el.current.value="")},className:"hidden"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1 bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:0===ev.length?r.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:0===C.length?"Hen\xfcz \xfcr\xfcn yok.":"\xdcr\xfcn bulunamadı."}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:["\xdcr\xfcn Adı","Marka","Fiyat","\xd6l\xe7\xfc","Kategori","Stok",""].map(e=>r.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:e},e))})}),r.jsx("tbody",{className:"divide-y divide-gray-50",children:ev.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{let{id:a,...t}=e;X(t),Q(a),ee(!0)},children:[r.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:e.urunAdi}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.marka||"—"}),r.jsx("td",{className:"px-4 py-3 text-gray-700 whitespace-nowrap",children:e.fiyat>0?`₺${e.fiyat.toLocaleString("tr-TR",{minimumFractionDigits:2})}`:"—"}),r.jsx("td",{className:"px-4 py-3 text-gray-500",children:e.olcu}),r.jsx("td",{className:"px-4 py-3",children:e.kategori?r.jsx("span",{className:"bg-red-50 text-red-700 text-xs px-2 py-0.5 rounded-full border border-red-100",children:e.kategori}):"—"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`text-xs font-medium ${e.stok>0?"text-emerald-600":"text-gray-400"}`,children:e.stok})}),r.jsx("td",{className:"px-4 py-3 text-right",onClick:e=>e.stopPropagation(),children:r.jsx("button",{onClick:()=>eh(e.id),className:"text-xs text-red-500 hover:text-red-700 font-medium hover:underline transition",children:"Sil"})})]},e.id))})]})})}),W&&(0,r.jsxs)("div",{className:"w-72 bg-white rounded-2xl border border-gray-200 shadow-sm p-5 space-y-3 self-start sticky top-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-gray-800 text-sm",children:V?"\xdcr\xfcn D\xfczenle":"Yeni \xdcr\xfcn"}),r.jsx("button",{onClick:()=>{ee(!1),Q(null),X(g)},className:"text-gray-400 hover:text-gray-600 text-xl leading-none",children:"\xd7"})]}),[{label:"\xdcr\xfcn Adı *",key:"urunAdi",type:"text"},{label:"Marka",key:"marka",type:"text"},{label:"Fiyat (₺)",key:"fiyat",type:"number"},{label:"Kategori",key:"kategori",type:"text"},{label:"Market",key:"market",type:"text"},{label:"Stok",key:"stok",type:"number"},{label:"Kod",key:"kod",type:"text"},{label:"Notlar",key:"notlar",type:"text"}].map(({label:e,key:a,type:t})=>(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:e}),r.jsx("input",{type:t,value:Z[a],onChange:e=>X(r=>({...r,[a]:"number"===t?Number(e.target.value):e.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500",min:"number"===t?0:void 0})]},a)),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-xs font-medium text-gray-700 block mb-1",children:"\xd6l\xe7\xfc"}),r.jsx("select",{value:Z.olcu,onChange:e=>X(a=>({...a,olcu:e.target.value})),className:"w-full border border-gray-200 rounded-lg px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-red-500",children:h.map(e=>r.jsx("option",{children:e},e))})]}),(0,r.jsxs)("div",{className:"flex gap-2 pt-1",children:[r.jsx("button",{onClick:ep,className:"flex-1 bg-red-700 hover:bg-red-800 text-white text-sm font-medium py-2.5 rounded-xl transition",children:V?"G\xfcncelle":"Ekle"}),r.jsx("button",{onClick:()=>{X(g),Q(null)},className:"px-4 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 rounded-xl hover:bg-gray-50 transition",children:"Temizle"})]})]})]})]})]})})}},785:(e,a,t)=>{"use strict";t.d(a,{Z:()=>d});var r=t(9899),s=t(4175),l=t(6153),i=t(5507);t(24);let n={admin:[{name:" Ana Sayfa",path:"/admin"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Kullanıcılar",path:"/kullanicilar"},{name:" Dersler",path:"/dersler"},{name:" Alışveriş Listeleri",path:"/siparisler"},{name:" Sipariş Y\xf6netimi",path:"/siparis-yonetimi"}],ogretmen:[{name:" Ana Sayfa",path:"/ogretmen"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Alışveriş Listelerim",path:"/alisveris-listelerim"},{name:" Siparişlerim",path:"/siparislerim"},{name:" Talep Oluştur",path:"/talep"}],satin_alma:[{name:" Ana Sayfa",path:"/satin"}],stok:[{name:" Ana Sayfa",path:"/stok"}],bolum_baskani:[{name:" Ana Sayfa",path:"/bolum-baskani"},{name:" Ders Y\xf6netimi",path:"/dersler"}]};function d({children:e,title:a,subtitle:t}){let d=(0,l.usePathname)(),o=(0,l.useRouter)(),[m,c]=(0,i.useState)(null),[u,x]=(0,i.useState)(!1);if(!m)return null;let p=n[m.role]??[],h=(m.ad_soyad||m.username).split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();return(0,r.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[r.jsx("button",{onClick:()=>x(!u),className:"lg:hidden fixed top-4 right-4 z-50 bg-red-700 text-white p-3 rounded-lg shadow-lg",children:""}),u&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>x(!1)}),(0,r.jsxs)("aside",{className:`w-64 bg-white border-r border-gray-200 flex flex-col shadow-sm flex-shrink-0 fixed lg:static h-screen z-40 transition-transform duration-300 ${u?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[r.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[r.jsx("div",{className:"w-8 h-8 bg-red-700 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:"İR\xdc"})}),r.jsx("span",{className:"font-bold text-gray-800",children:"İR\xdcFoodFlow"})]})}),r.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:p.map(e=>{let a=d===e.path;return r.jsx(s.default,{href:e.path,className:`flex items-center px-4 py-2.5 rounded-xl text-sm transition-all ${a?"bg-red-50 text-red-700 font-semibold":"text-gray-500 hover:bg-gray-100 hover:text-gray-800"}`,children:e.name},e.path)})}),(0,r.jsxs)("div",{className:"px-4 py-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-9 h-9 bg-red-700 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white text-xs font-bold",children:h})}),(0,r.jsxs)("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:m.ad_soyad||m.username}),r.jsx("p",{className:"text-xs text-gray-400",children:m.role})]})]}),r.jsx("button",{onClick:()=>{localStorage.removeItem("aktifKullaniciId"),localStorage.removeItem("role"),localStorage.removeItem("username"),o.push("/")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 rounded-xl hover:bg-red-50 transition",children:"\xc7ıkış Yap"})]})]}),(0,r.jsxs)("main",{className:"flex-1 flex flex-col overflow-auto pt-16 lg:pt-0",children:[a&&(0,r.jsxs)("div",{className:"bg-red-700 text-white px-10 py-7 flex-shrink-0",children:[t&&r.jsx("p",{className:"text-red-300 text-xs font-medium uppercase tracking-widest mb-1",children:t}),r.jsx("h1",{className:"text-2xl font-bold",children:a})]}),r.jsx("div",{className:"flex-1 p-8",children:e})]})]})}},895:(e,a,t)=>{"use strict";t.d(a,{a:()=>l});var r=t(5507),s=t(6153);function l(e){(0,s.useRouter)();let[a,t]=(0,r.useState)(!1),[l,i]=(0,r.useState)(!0);return{yetkili:a,yukleniyor:l}}},24:(e,a,t)=>{"use strict";t.d(a,{O:()=>r});let r=(0,t(7994).eI)("https://dyqbddyenmrzjjhkperf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5cWJkZHllbm1yempqaGtwZXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NzU1MjcsImV4cCI6MjA4NzQ1MTUyN30.D83dK9y-GkVLYmfon94afTNGaffiZ1S1TCNy5Ug-Io4")},8850:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var r=t(2772);let s=(0,r.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\bolum-baskani\page.tsx`),{__esModule:l,$$typeof:i}=s;s.default;let n=(0,r.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\bolum-baskani\page.tsx#default`)},1163:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n,metadata:()=>i});var r=t(5023),s=t(1695),l=t.n(s);t(642);let i={title:"IRU FoodFlow",description:"Okul yemek talep y\xf6netim sistemi"};function n({children:e}){return r.jsx("html",{lang:"tr",children:r.jsx("body",{className:`${l().variable} antialiased`,children:e})})}},7418:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});var r=t(1645);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},642:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[916,617,948,175],()=>t(7569));module.exports=r})();