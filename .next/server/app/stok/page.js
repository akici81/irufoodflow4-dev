(()=>{var e={};e.id=710,e.ids=[710],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5526:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),r(204),r(1163),r(2874);var s=r(7105),a=r(5265),i=r(157),n=r.n(i),l=r(4665),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["stok",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,204)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\stok\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1163)),"C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,2874,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7418))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\enisa\\Desktop\\irufoodflow4-dev\\app\\stok\\page.tsx"],x="/stok/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/stok/page",pathname:"/stok",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3558:(e,t,r)=>{Promise.resolve().then(r.bind(r,1333))},869:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3817,23)),Promise.resolve().then(r.t.bind(r,9323,23)),Promise.resolve().then(r.t.bind(r,2204,23)),Promise.resolve().then(r.t.bind(r,820,23)),Promise.resolve().then(r.t.bind(r,5915,23)),Promise.resolve().then(r.t.bind(r,1611,23))},1205:()=>{},785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var s=r(9899),a=r(4175),i=r(6153),n=r(5507);r(24);let l={admin:[{name:" Ana Sayfa",path:"/admin"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Kullanıcılar",path:"/kullanicilar"},{name:" Dersler",path:"/dersler"},{name:" Alışveriş Listeleri",path:"/siparisler"},{name:" Sipariş Y\xf6netimi",path:"/siparis-yonetimi"}],ogretmen:[{name:" Ana Sayfa",path:"/ogretmen"},{name:" \xdcr\xfcn Havuzu",path:"/urun-havuzu"},{name:" Re\xe7ete Havuzu",path:"/receteler"},{name:" Alışveriş Listelerim",path:"/alisveris-listelerim"},{name:" Siparişlerim",path:"/siparislerim"},{name:" Talep Oluştur",path:"/talep"}],satin_alma:[{name:" Ana Sayfa",path:"/satin"}],stok:[{name:" Ana Sayfa",path:"/stok"}],bolum_baskani:[{name:" Ana Sayfa",path:"/bolum-baskani"},{name:" Ders Y\xf6netimi",path:"/dersler"}]};function d({children:e,title:t,subtitle:r}){let d=(0,i.usePathname)(),o=(0,i.useRouter)(),[c,x]=(0,n.useState)(null),[m,u]=(0,n.useState)(!1);if(!c)return null;let p=l[c.role]??[],h=(c.ad_soyad||c.username).split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase();return(0,s.jsxs)("div",{className:"min-h-screen flex bg-gray-100",children:[s.jsx("button",{onClick:()=>u(!m),className:"lg:hidden fixed top-4 right-4 z-50 bg-red-700 text-white p-3 rounded-lg shadow-lg",children:""}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>u(!1)}),(0,s.jsxs)("aside",{className:`w-64 bg-white border-r border-gray-200 flex flex-col shadow-sm flex-shrink-0 fixed lg:static h-screen z-40 transition-transform duration-300 ${m?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[s.jsx("div",{className:"px-6 py-5 border-b border-gray-100",children:(0,s.jsxs)("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-red-700 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"İR\xdc"})}),s.jsx("span",{className:"font-bold text-gray-800",children:"İR\xdcFoodFlow"})]})}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-0.5",children:p.map(e=>{let t=d===e.path;return s.jsx(a.default,{href:e.path,className:`flex items-center px-4 py-2.5 rounded-xl text-sm transition-all ${t?"bg-red-50 text-red-700 font-semibold":"text-gray-500 hover:bg-gray-100 hover:text-gray-800"}`,children:e.name},e.path)})}),(0,s.jsxs)("div",{className:"px-4 py-4 border-t border-gray-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-9 h-9 bg-red-700 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-white text-xs font-bold",children:h})}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-800 truncate",children:c.ad_soyad||c.username}),s.jsx("p",{className:"text-xs text-gray-400",children:c.role})]})]}),s.jsx("button",{onClick:()=>{localStorage.removeItem("aktifKullaniciId"),localStorage.removeItem("role"),localStorage.removeItem("username"),o.push("/")},className:"w-full text-sm text-red-600 hover:text-red-700 font-medium py-2 rounded-xl hover:bg-red-50 transition",children:"\xc7ıkış Yap"})]})]}),(0,s.jsxs)("main",{className:"flex-1 flex flex-col overflow-auto pt-16 lg:pt-0",children:[t&&(0,s.jsxs)("div",{className:"bg-red-700 text-white px-10 py-7 flex-shrink-0",children:[r&&s.jsx("p",{className:"text-red-300 text-xs font-medium uppercase tracking-widest mb-1",children:r}),s.jsx("h1",{className:"text-2xl font-bold",children:t})]}),s.jsx("div",{className:"flex-1 p-8",children:e})]})]})}},895:(e,t,r)=>{"use strict";r.d(t,{a:()=>i});var s=r(5507),a=r(6153);function i(e){(0,a.useRouter)();let[t,r]=(0,s.useState)(!1),[i,n]=(0,s.useState)(!0);return{yetkili:t,yukleniyor:i}}},1333:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(9899),a=r(5507),i=r(785),n=r(895),l=r(24);function d(){let{yetkili:e,yukleniyor:t}=(0,n.a)("/stok");if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center text-gray-400",children:"Y\xfckleniyor..."});if(!e)return null;let[r,d]=(0,a.useState)([]),[o,c]=(0,a.useState)({}),[x,m]=(0,a.useState)({}),[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)({}),[b,f]=(0,a.useState)(null),[y,j]=(0,a.useState)(!0),v=(e,t)=>{f({tip:e,metin:t}),setTimeout(()=>f(null),2500)},N=e=>{let t=e.toLowerCase();return"kg"===t||"l"===t?{serbest:!0,baslangic:0,adim:0}:"g"===t||"ml"===t?{serbest:!1,baslangic:50,adim:50}:{serbest:!1,baslangic:1,adim:1}},k=(e,t)=>{m(r=>({...r,[e]:t}));let r=parseFloat(t.replace(",","."));c(t=>({...t,[e]:!isNaN(r)&&r>=0?Math.round(1e3*r)/1e3:0}))},w=e=>{let{adim:t,baslangic:r}=N(e.olcu),s=o[e.id]??e.stok??r;c(r=>({...r,[e.id]:Math.round((s+t)*1e3)/1e3}))},S=e=>{let{adim:t,baslangic:r}=N(e.olcu),s=Math.max(0,Math.round(((o[e.id]??e.stok??r)-t)*1e3)/1e3);c(t=>({...t,[e.id]:s}))},C=(e,t)=>{let r=Math.max(0,Math.round(1e3*t)/1e3);c(t=>({...t,[e]:r}))},P=(0,a.useCallback)(async e=>{let t=o[e.id]??e.stok;if(t===e.stok)return;g(t=>({...t,[e.id]:!0}));let{error:r}=await l.O.from("urunler").update({stok:t}).eq("id",e.id);if(g(t=>({...t,[e.id]:!1})),r){v("hata","Hata: "+r.message);return}d(r=>r.map(r=>r.id===e.id?{...r,stok:t}:r)),m(t=>{let r={...t};return delete r[e.id],r}),v("basari",`"${e.urunAdi}" g\xfcncellendi → ${t} ${e.olcu}`)},[o]),I=r.filter(e=>!u||e.urunAdi.toLowerCase().includes(u.toLowerCase())||(e.marka||"").toLowerCase().includes(u.toLowerCase())),M=r.filter(e=>e.stok>0).length;return s.jsx(i.Z,{title:"Stok Paneli",subtitle:"Depodaki mevcut \xfcr\xfcn miktarlarını girin",children:(0,s.jsxs)("div",{className:"max-w-5xl space-y-5",children:[b&&s.jsx("div",{className:`text-sm rounded-xl px-4 py-3 border font-medium transition ${"basari"===b.tip?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-red-50 text-red-600 border-red-200"}`,children:b.metin}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Toplam \xdcr\xfcn",deger:r.length,renk:"text-gray-800"},{label:"Stokta Var",deger:M,renk:"text-emerald-600"},{label:"Stok Yok",deger:r.length-M,renk:"text-red-600"}].map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-5 text-center",children:[s.jsx("p",{className:"text-xs text-gray-400 font-medium uppercase tracking-wider mb-1",children:e.label}),s.jsx("p",{className:`text-3xl font-bold ${e.renk}`,children:e.deger})]},e.label))}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-xl px-4 py-3",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-700 mb-2",children:"Miktar Giriş Rehberi"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-8 gap-y-1.5 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-mono bg-white border border-blue-200 px-1.5 py-0.5 rounded text-blue-800 whitespace-nowrap",children:"Kg / L"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["İstediğiniz değeri elle girin — orn: ",s.jsx("b",{children:"0,100"})," \xb7 ",s.jsx("b",{children:"1,500"})]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-mono bg-white border border-blue-200 px-1.5 py-0.5 rounded text-blue-800 whitespace-nowrap",children:"G / Ml"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["+ / - ile ",s.jsx("b",{children:"50'şer"})," artır/azalt"]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-mono bg-white border border-blue-200 px-1.5 py-0.5 rounded text-blue-800 whitespace-nowrap",children:"Adet"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["+ / - ile ",s.jsx("b",{children:"1'er"})," artır/azalt"]})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-mono bg-white border border-blue-200 px-1.5 py-0.5 rounded text-blue-800 whitespace-nowrap",children:"Paket / Kutu"}),(0,s.jsxs)("span",{className:"text-gray-500",children:["+ / - ile ",s.jsx("b",{children:"1'er"})," artır/azalt"]})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-4",children:s.jsx("input",{value:u,onChange:e=>p(e.target.value),placeholder:"\xdcr\xfcn adı veya marka ara...",className:"w-full border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none text-black p-2 focus:ring-2 focus:ring-red-500"})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold text-gray-800",children:"Depo Stok Miktarları"}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:[I.length," \xfcr\xfcn \xb7 Giriş yaptıktan sonra Enter/Tab ile kaydedin"]})]}),t?s.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"Y\xfckleniyor..."}):0===I.length?s.jsx("div",{className:"py-20 text-center text-gray-400 text-sm",children:"\xdcr\xfcn bulunamadı."}):(0,s.jsxs)("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:[s.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"\xdcR\xdcN"}),s.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"MARKA"}),s.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"\xd6L\xc7\xdc"}),s.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider w-52",children:"DEPODA MEVCUT"}),s.jsx("th",{className:"px-5 py-3 text-xs font-semibold text-gray-500 uppercase tracking-wider w-24",children:"DURUM"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-50",children:I.map(e=>{let t=o[e.id]??e.stok,r=t!==e.stok,a=N(e.olcu);return(0,s.jsxs)("tr",{className:`transition-colors ${r?"bg-amber-50":"hover:bg-gray-50"}`,children:[s.jsx("td",{className:"px-5 py-3 font-medium text-gray-800",children:e.urunAdi}),s.jsx("td",{className:"px-5 py-3 text-gray-500",children:e.marka||"—"}),s.jsx("td",{className:"px-5 py-3 text-gray-500",children:e.olcu}),s.jsx("td",{className:"px-5 py-3",children:a.serbest?(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"text",inputMode:"decimal",value:void 0!==x[e.id]?x[e.id]:t>0?String(t).replace(".",","):"",placeholder:"orn: 1,500",onChange:t=>k(e.id,t.target.value),onFocus:e=>e.target.select(),onBlur:()=>P(e),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},className:`w-28 border rounded-lg px-2 py-1.5 text-sm text-center focus:outline-none focus:ring-2 focus:ring-red-500 transition ${r?"border-amber-400 bg-amber-50":t>0?"border-gray-300 bg-white":"border-gray-200 bg-white"} ${t>0?"text-emerald-700 font-semibold":"text-gray-400"}`}),s.jsx("span",{className:"text-xs font-medium text-gray-500",children:e.olcu})]}):(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx("button",{type:"button",onClick:()=>S(e),className:"w-7 h-7 flex items-center justify-center bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-600 font-bold text-sm transition",children:"-"}),s.jsx("input",{type:"number",value:t||"",step:a.adim,min:0,onChange:t=>C(e.id,Number(t.target.value)),onFocus:e=>e.target.select(),onBlur:()=>P(e),onKeyDown:e=>{"Enter"===e.key&&e.target.blur()},className:`w-16 border rounded-lg px-1 py-1.5 text-sm text-center focus:outline-none focus:ring-2 focus:ring-red-500 transition ${r?"border-amber-400 bg-amber-50":"border-gray-200 bg-white"} ${t>0?"text-emerald-700 font-semibold":"text-gray-400"}`}),s.jsx("span",{className:"text-xs text-gray-400",children:e.olcu}),s.jsx("button",{type:"button",onClick:()=>w(e),className:"w-7 h-7 flex items-center justify-center bg-red-100 hover:bg-red-200 rounded-lg text-red-700 font-bold text-sm transition",children:"+"})]})}),(0,s.jsxs)("td",{className:"px-5 py-3",children:[h[e.id]&&s.jsx("span",{className:"text-xs text-gray-400",children:"kaydediliyor..."}),!h[e.id]&&r&&s.jsx("button",{onClick:()=>P(e),className:"text-xs bg-amber-500 hover:bg-amber-600 text-white font-semibold px-2.5 py-1 rounded-lg transition",children:"Kaydet"}),!h[e.id]&&!r&&t>0&&s.jsx("span",{className:"text-xs text-emerald-500 font-medium",children:"✓"})]})]},e.id)})})]})]})]})})}},24:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(7994).eI)("https://dyqbddyenmrzjjhkperf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5cWJkZHllbm1yempqaGtwZXJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NzU1MjcsImV4cCI6MjA4NzQ1MTUyN30.D83dK9y-GkVLYmfon94afTNGaffiZ1S1TCNy5Ug-Io4")},1163:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>n});var s=r(5023),a=r(1695),i=r.n(a);r(642);let n={title:"IRU FoodFlow",description:"Okul yemek talep y\xf6netim sistemi"};function l({children:e}){return s.jsx("html",{lang:"tr",children:s.jsx("body",{className:`${i().variable} antialiased`,children:e})})}},204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var s=r(2772);let a=(0,s.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\stok\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,s.createProxy)(String.raw`C:\Users\enisa\Desktop\irufoodflow4-dev\app\stok\page.tsx#default`)},7418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(1645);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},642:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[916,617,948,175],()=>r(5526));module.exports=s})();